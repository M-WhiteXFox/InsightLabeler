# InsightLabeler

InsightLabeler 是一个视频帧提取和图像标注工具。

## 功能特点

- 视频帧提取：从视频中按指定间隔提取帧
- 图像标注：提供图形界面进行图像标注
- 配置管理：通过配置文件管理参数
- 现代化界面：美观的UI设计，顶部功能按钮，左侧图片显示，右侧功能面板

## 项目结构

- `Main.py` - 程序入口点
- `LabelerPyQt5.py` - PyQt5主窗口和控制逻辑
- `ui_components.py` - UI组件创建和管理
- `frame_splitter.py` - 视频帧提取和处理功能
- `Utils.py` - 工具函数
- `config.json` - 配置文件
- `requirements.txt` - 依赖包列表

## 模块化设计

为了提高代码的可维护性和可读性，项目采用了模块化设计：

- **界面逻辑分离**：将UI组件创建逻辑从主窗口类中分离到[ui_components.py](file:///D:/Github/InsightLabeler/ui_components.py)
- **功能模块化**：视频处理相关功能保留在[frame_splitter.py](file:///D:/Github/InsightLabeler/frame_splitter.py)
- **配置管理**：工具函数保留在[Utils.py](file:///D:/Github/InsightLabeler/Utils.py)

## 界面布局

- **顶部按钮栏**：包含"视频处理"、"图像标注"、"设置"等彩色按钮，用于切换不同的功能面板
- **左侧图片显示区**（3/4宽度）：用于显示视频帧图片，具有现代化的边框和背景
- **右侧功能面板区**（1/4宽度）：根据顶部按钮选择显示不同的功能面板
  - 视频处理面板：视频文件选择、帧间隔设置、帧提取、帧导航等功能
  - 图像标注面板：图像标注相关功能
  - 设置面板：程序设置相关功能

## UI美化特性

- **响应式设计**：界面元素会根据窗口大小自动调整比例
- **统一字体**：使用微软雅黑字体，标题18px加粗，正文16px常规字体
- **现代化设计**：使用圆角边框、阴影效果和现代化配色方案
- **彩色按钮**：不同功能使用不同颜色的按钮，提高用户体验
- **分组布局**：使用GroupBox对相关功能进行分组，界面更清晰
- **状态反馈**：按钮具有悬停、按下等状态效果
- **多线程处理**：帧提取操作在后台线程进行，避免阻塞UI

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

1. 运行主程序：
   ```bash
   python Main.py
   ```

2. 在顶部按钮栏选择功能面板：
   - 点击"视频处理"按钮切换到视频处理面板
   - 点击"图像标注"按钮切换到图像标注面板
   - 点击"设置"按钮切换到设置面板

3. 在视频处理面板中：
   - 选择视频文件
   - 设置帧间隔和最大帧数
   - 点击"提取帧"按钮提取帧（操作在后台进行，不会阻塞界面）
   - 使用"上一帧"/"下一帧"按钮或"跳转到帧"功能浏览帧

## 配置文件

配置文件 `config.json` 包含以下参数：

- `video_path`: 视频文件路径
- `output_dir`: 输出目录
- `frame_interval`: 帧间隔
- `max_frames`: 最大提取帧数
- `quality`: 图像质量 (1-100)

## 命令行使用

也可以直接使用命令行工具提取帧：

```bash
python frame_splitter.py --video_path path/to/video.mp4 --output output/dir
```